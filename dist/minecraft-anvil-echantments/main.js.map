{"version":3,"sources":["./$_lazy_route_resource lazy namespace object","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/components/enchanted-book/enchanted-book.component.ts","./src/app/components/enchanted-book/enchanted-book.component.html","./src/app/db/enchants.ts","./src/app/models/enchanted.book.ts","./src/app/utils/costUtils.ts","./src/environments/environment.ts","./src/main.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","import { Component, OnInit } from '@angular/core';\nimport { Enchantable, EnchantableType, EnchantType, EnchantableWithCost } from './models/enchanted.book';\nimport { ENCHANT_LIST, APPLICABLE_ENCHANT, CONFLICT_ENCHANT, ENCHANT_TYPES } from './db/enchants';\nimport { findCost } from './utils/costUtils'; \n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent implements OnInit {\n  \n  title = 'minecraft-anvil-echantments';\n\n  cache: Map<string, EnchantableWithCost> = new Map<string, EnchantableWithCost>();\n  enchantList = ENCHANT_LIST;\n  conflictList = CONFLICT_ENCHANT;\n  enchantAppliable = APPLICABLE_ENCHANT;\n  enchantTypes = ENCHANT_TYPES.filter(el => el != EnchantableType.Book);\n  totalForges = 0;\n  totalCalculus = 0;\n  foundInCache = 0;\n  totalValidPermutations = 0;\n  totalInvalidPermutations = 0;\n  conflictEnchantTypes: EnchantType[][] = [\n    [EnchantType.Protection, EnchantType.Mending, EnchantType.Unbreaking, EnchantType.Thorns],\n    [EnchantType.Mending, EnchantType.Unbreaking, EnchantType.Thorns],\n    [EnchantType.Protection, EnchantType.Unbreaking, EnchantType.Thorns],\n    [EnchantType.Protection, EnchantType.Mending, EnchantType.Thorns],\n    [EnchantType.Protection, EnchantType.Mending, EnchantType.Unbreaking]\n  ];\n  resultsBrief = new Map<string, number>();\n  enchantsPerfectHelmetElements: Enchantable[] = [\n    {\n      enchants: [{\n        type: EnchantType.Protection,\n        level: 4,\n        max: 4,\n        mulBook: 1,\n        mulItem: 1\n      }\n    ],\n      isEnchanted: true,\n      penalty: 0,\n      type: EnchantableType.Book\n    },\n    \n    {\n      enchants: [{\n        type: EnchantType.Mending,\n        max: 1,\n        level: 1,\n        mulItem: 4,\n        mulBook: 2\n      }\n    ],\n      isEnchanted: true,\n      penalty: 0,\n      type: EnchantableType.Book\n    },\n    {\n      enchants: [\n        {\n          type: EnchantType.Unbreaking,\n          max: 3,\n          level: 3,\n          mulItem: 2,\n          mulBook: 1\n        }\n    ],\n      isEnchanted: true,\n      penalty: 0,\n      type: EnchantableType.Book\n    },\n    \n    {\n      enchants: [\n        {\n          type: EnchantType.Thorns,\n            level: 3,\n            max: 3,\n            mulItem: 8,\n            mulBook: 4\n        },\n    ],\n      isEnchanted: true,\n      penalty: 0,\n      type: EnchantableType.Book\n    },\n    \n    {\n      enchants: [\n        {\n          type: EnchantType.Aqua_Affinity,\n            max: 1,\n            level: 1,\n            mulItem: 4,\n            mulBook: 2\n        },\n    ],\n      isEnchanted: true,\n      penalty: 0,\n      type: EnchantableType.Book\n    },\n    \n    {\n      enchants: [\n        {\n          type: EnchantType.Respiration,\n            max: 3,\n            level: 3,\n            mulItem: 4,\n            mulBook: 2\n        },\n    ],\n      isEnchanted: true,\n      penalty: 0,\n      type: EnchantableType.Book\n    },\n    \n    {\n      enchants: [],\n      isEnchanted: true,\n      penalty: 0,\n      type: EnchantableType.Helmet\n    },\n    \n  ]\n\n  enchantsPerfectSwordElements: Enchantable[] = [\n    {\n      enchants: [{\n        type: EnchantType.Sharpness,\n          max: 5,\n          level: 5,\n          mulItem: 1,\n          mulBook: 1\n      }\n    ],\n      isEnchanted: true,\n      penalty: 0,\n      type: EnchantableType.Book\n    },\n    \n    {\n      enchants: [{\n        type: EnchantType.Mending,\n        max: 1,\n        level: 1,\n        mulItem: 4,\n        mulBook: 2\n      }\n    ],\n      isEnchanted: true,\n      penalty: 0,\n      type: EnchantableType.Book\n    },\n    {\n      enchants: [\n        {\n          type: EnchantType.Unbreaking,\n          max: 3,\n          level: 3,\n          mulItem: 2,\n          mulBook: 1\n        }\n    ],\n      isEnchanted: true,\n      penalty: 0,\n      type: EnchantableType.Book\n    },\n    \n    {\n      enchants: [\n        {\n          type: EnchantType.Looting,\n            max: 3,\n            level: 3,\n            mulItem: 4,\n            mulBook: 2\n        },\n    ],\n      isEnchanted: true,\n      penalty: 0,\n      type: EnchantableType.Book\n    },\n    \n    {\n      enchants: [\n        {\n          type: EnchantType.Fire_Aspect,\n            max: 2,\n            level: 2,\n            mulItem: 4,\n            mulBook: 2\n        },\n    ],\n      isEnchanted: true,\n      penalty: 0,\n      type: EnchantableType.Book\n    },\n\n    \n    {\n      enchants: [\n        {\n          type: EnchantType.Sweeping_Edge,\n            max: 3,\n            level: 3,\n            mulItem: 4,\n            mulBook: 2\n        },\n    ],\n      isEnchanted: true,\n      penalty: 0,\n      type: EnchantableType.Book\n    },\n    \n    {\n      enchants: [\n        {\n          type: EnchantType.Knockback,\n            max: 2,\n            level: 2,\n            mulItem: 2,\n            mulBook: 1\n        },\n    ],\n      isEnchanted: true,\n      penalty: 0,\n      type: EnchantableType.Book\n    },\n\n    {\n      enchants: [],\n      isEnchanted: true,\n      penalty: 0,\n      type: EnchantableType.Sword\n    },\n    \n  ]\n\n  enchantElements: Enchantable[] = [\n    {\n      enchants: [],\n      isEnchanted: true,\n      penalty: 0,\n      type: EnchantableType.Chestplate\n    },\n    {\n      enchants: [{\n        type: EnchantType.Protection,\n        level: 4,\n        max: 4,\n        mulBook: 1,\n        mulItem: 1\n      }\n    ],\n      isEnchanted: true,\n      penalty: 0,\n      type: EnchantableType.Book\n    },\n    \n    {\n      enchants: [{\n        type: EnchantType.Mending,\n        max: 1,\n        level: 1,\n        mulItem: 4,\n        mulBook: 2\n      }\n    ],\n      isEnchanted: true,\n      penalty: 0,\n      type: EnchantableType.Book\n    },\n    {\n      enchants: [\n        {\n          type: EnchantType.Unbreaking,\n          max: 3,\n          level: 3,\n          mulItem: 2,\n          mulBook: 1\n        }\n    ],\n      isEnchanted: true,\n      penalty: 0,\n      type: EnchantableType.Book\n    },\n    \n    {\n      enchants: [\n        {\n          type: EnchantType.Thorns,\n            level: 3,\n            max: 3,\n            mulItem: 8,\n            mulBook: 4\n        },\n    ],\n      isEnchanted: true,\n      penalty: 0,\n      type: EnchantableType.Book\n    },\n  ]\n  selectedTarget = \"Book\";\n  selectedSacrifice = \"Book\";\n  totalCost = 0;\n  logText = '';\n  addBookLiteral = \"Add Book\";\n  removeBookLiteral = \"Remove Book\";\n  currentSelectedType = EnchantableType.Sword;\n\n  constructor() {}\n\n  ngOnInit(): void {\n    if (this.enchantElements == null || !this.enchantElements.length) {\n      this.addBookLiteral = \"Add Tool/Armor/Weapon\";\n      this.removeBookLiteral = \"\";\n    } else {\n      this.enchantElements.map((el, index) => el.enchants.map(el2 => this.conflictEnchantTypes[index].push(el2.type)));\n    }\n  }\n\n  removeElement() {\n    this.enchantElements.pop();\n    if (this.enchantElements == null || !this.enchantElements.length) {\n      this.addBookLiteral = \"Add Tool/Armor/Weapon\";\n      this.removeBookLiteral = \"\";\n    }\n    if (this.enchantElements.length == 1) {\n      this.removeBookLiteral = \"Remove Tool/Armor/Weapon\";\n    }\n  }\n\n  addElement() {\n    if (this.enchantElements == null || !this.enchantElements.length) {\n      this.enchantElements = [];\n      this.enchantElements.push({\n        enchants: [],\n        isEnchanted: false,\n        penalty: 0,\n        type: this.currentSelectedType\n      })\n      this.addBookLiteral = \"Add Book\";\n      this.removeBookLiteral = \"Remove Tool/Armor/Weapon\";\n    } else {\n      if (this.enchantElements.length > 0) {\n        this.removeBookLiteral = \"Remove Book\";\n      }\n      this.enchantElements.push({\n        enchants: [],\n        isEnchanted: false,\n        penalty: 0,\n        type: EnchantableType.Book\n      })\n    }\n  }\n\n  enchantTypeChange() {\n    \n  }\n\n  addEnchant(index: number, enchant: EnchantType) {\n    this.conflictEnchantTypes.map((el, i) => {\n      if (i != index && !el.includes(enchant)) {\n        this.conflictEnchantTypes[i].push(enchant)\n        this.conflictEnchantTypes[i] = [].concat(this.conflictEnchantTypes[i]);\n      }\n    })\n    console.log(this.conflictEnchantTypes);\n  }\n\n  removeEnchant(index: number, enchant: EnchantType) {\n    this.conflictEnchantTypes.map((el, i) => {\n      this.conflictEnchantTypes[i] = el.filter(el => el != enchant);\n    });\n    console.log(this.conflictEnchantTypes);\n  }\n\n  findBestCombination() {\n    if (this.enchantElements.length > 1) {\n      this.totalCost = findCost(this.enchantElements[0], this.enchantElements[1]);\n      this.totalForges = 0;\n      this.totalCalculus = 0;\n      this.foundInCache = 0;\n      this.totalValidPermutations = 0;\n      this.totalInvalidPermutations = 0;\n      this.resultsBrief = new Map<string, number>();\n      let result: EnchantableWithCost = this.findBestCombinationRecursive(this.enchantElements.map(el => ({cost: 0, totalCost: 0, maxCost: 0, enchant: el})));\n      console.log('Resumen de costes: ', this.resultsBrief);\n      console.log('N de permutaciones validas  : ', this.totalValidPermutations);\n      console.log('N de permutaciones invalidas: ', this.totalInvalidPermutations);\n      console.log('                        total: ', this.totalInvalidPermutations + this.totalValidPermutations);\n      console.log('N de calculos salvados por cache: ', this.foundInCache);\n      console.log('N de combinaciones procesadas: ', this.totalCalculus);\n      console.log('N de forjados simulados: ', this.totalForges);\n      console.log('RESULTADO FINAL: ');\n      this.totalCost = result.totalCost;\n      this.printEnchantableWithCost(result, 0, true);\n    }\n  }\n\n  findBestCombinationRecursive(enchantElementsClone: EnchantableWithCost[]): EnchantableWithCost {\n    // console.log('Se llama a findBestCombinationRecursion con: ', this.printEnchantableList(enchantElementsClone.map(el => el.enchant)))\n    if (!enchantElementsClone || enchantElementsClone.length === 0) return null;\n    if (enchantElementsClone.length == 1) return {cost: 0, totalCost: 0, maxCost: 0, enchant: enchantElementsClone[0].enchant};\n    if (enchantElementsClone.length == 2) {\n      let normalOrderCost = findCost(enchantElementsClone[0].enchant, enchantElementsClone[1].enchant)\n      let inverseOrderCost = findCost(enchantElementsClone[1].enchant, enchantElementsClone[0].enchant)\n      return (inverseOrderCost < normalOrderCost) ? \n        {\n          cost: inverseOrderCost, \n          totalCost: inverseOrderCost + enchantElementsClone[0].totalCost  + enchantElementsClone[1].totalCost, \n          maxCost: Math.max(inverseOrderCost, enchantElementsClone[0].maxCost, enchantElementsClone[1].maxCost),\n          enchant: this.forge(enchantElementsClone[1].enchant, enchantElementsClone[0].enchant), \n          children: [enchantElementsClone[1], enchantElementsClone[0]]\n        }\n        : \n        {\n          cost: normalOrderCost, \n          totalCost: normalOrderCost + enchantElementsClone[0].totalCost + enchantElementsClone[1].totalCost, \n          maxCost: Math.max(normalOrderCost, enchantElementsClone[0].maxCost, enchantElementsClone[1].maxCost),\n          enchant: this.forge(enchantElementsClone[0].enchant, enchantElementsClone[1].enchant), \n          children: [enchantElementsClone[0], enchantElementsClone[1]]\n        };\n    }\n    \n    const permutations = this.getPermutations(enchantElementsClone, enchantElementsClone.length);\n    // this.print3array(permutations);\n    let bestWayToForge: EnchantableWithCost = {cost: 819999999998, totalCost: 88999999999988, maxCost: 65820000000, enchant: null};\n    permutations.map((el, index) => {\n      const bestCostSplited: EnchantableWithCost = this.findBestWayToForge(el[0]);\n      if (bestCostSplited.totalCost < bestWayToForge.totalCost || bestCostSplited.totalCost == bestWayToForge.totalCost && bestCostSplited.maxCost < bestWayToForge.maxCost) {\n        bestWayToForge = bestCostSplited;\n      } else if (bestCostSplited.totalCost == bestWayToForge.totalCost) {\n        // Descomentar para ver todas las opciones\n        // this.printEnchantableWithCost(bestCostSplited, 0, true);\n      }\n      if (bestCostSplited.totalCost < 10000000) {\n        // console.log('(' + (index + 1) + '/' + permutations.length +') best way to forge this order: ', this.printEnchantableCost(bestCostSplited));\n        this.totalValidPermutations++;\n        this.resultsBrief.set(bestCostSplited.totalCost+'('+bestCostSplited.maxCost+')', !this.resultsBrief.get(bestCostSplited.totalCost+'('+bestCostSplited.maxCost+')') ? 1 : this.resultsBrief.get(bestCostSplited.totalCost+'('+bestCostSplited.maxCost+')') + 1)\n      } else {\n        // console.error('(' + (index + 1) + '/' + permutations.length +') invalid permutation: ', this.printEnchantableCost(bestCostSplited));\n        this.totalInvalidPermutations++;\n      }\n    })\n\n    const costs: number[] = [];\n    this.resultsBrief.forEach((el, key) => costs.push(el));\n    const gcd = this.gcd(costs);\n    this.resultsBrief.forEach((el, key) => this.resultsBrief.set(key, el));\n    this.resultsBrief = new Map([...this.resultsBrief.entries()].sort());\n    console.log('Best of all permutations: ', this.printEnchantableCost(bestWayToForge));\n    return bestWayToForge;\n  }\n\n  gcd(list: number[]): number {\n    if (!list || !list.length) return 1;\n    list = list.map(el => Math.floor(el));\n    console.log(list);\n    let gcd = list[0];\n    list.map(el => {\n      gcd = this.gcd_two_numbers(gcd, el);\n    });\n    console.log(gcd);\n    return gcd;\n  }\n\n  gcd_two_numbers(x: number, y: number) {\n    let x2 = Math.abs(x);\n    let y2 = Math.abs(y);\n    while(y2) {\n      let t = y2;\n      y2 = x2 % y2;\n      x2 = t;\n    }\n    // console.log('gcd de: ' + x + ' y ' + y + ' = ' + x2);\n    return x2;\n  }\n\n  findBestWayToForge(list: EnchantableWithCost[]): EnchantableWithCost {\n    if (!list || !list.length) return null;\n    if (list.length == 1) return {...list[0]};\n    this.totalCalculus++;\n    if (list.length == 2) {\n      const cost = findCost(list[0].enchant, list[1].enchant);\n      const best: EnchantableWithCost = {\n        cost: cost, \n        totalCost: cost + list[0].totalCost  + list[1].totalCost, \n        maxCost: Math.max(cost, list[0].maxCost, list[1].maxCost),\n        enchant: this.forge(list[0].enchant, list[1].enchant), \n        children: [list[0], list[1]]\n      }\n      this.cache.set(JSON.stringify(list), best);\n      return best;\n    }\n    if (list.length == 3) {\n      const listLessOne = list.filter((el, index) => index < list.length - 1);\n      const newEnchantLessOne = this.findBestWayToForge(listLessOne);\n      const cost = findCost(newEnchantLessOne.enchant, list[2].enchant);\n      const best: EnchantableWithCost = {\n        cost: cost, \n        totalCost: cost + newEnchantLessOne.totalCost  + list[2].totalCost, \n        maxCost: Math.max(cost, newEnchantLessOne.maxCost, list[2].maxCost),\n        enchant: this.forge(newEnchantLessOne.enchant, list[2].enchant), \n        children: [newEnchantLessOne, list[2]]\n      }\n      this.cache.set(JSON.stringify(list), best);\n      return best;\n    }\n\n    const cachedInfo = this.cache.get(JSON.stringify(list));\n    if (!!cachedInfo) {\n      this.foundInCache++;\n      return cachedInfo;\n    }\n\n    // length 3 o superior:\n    const listLessOne = list.filter((el, index) => index < list.length - 1);\n    const listLessTwo = list.filter((el, index) => index < list.length - 2);\n    const newEnchantLessOne = this.findBestWayToForge(listLessOne);\n    const costOne = findCost(newEnchantLessOne.enchant, list[list.length - 1].enchant);\n    const totalCostOne = costOne + newEnchantLessOne.totalCost + list[list.length - 1].totalCost;\n\n    const newEnchantLessTwo = this.findBestWayToForge(listLessTwo);\n    const costLastPair = findCost(list[list.length - 2].enchant, list[list.length - 1].enchant);\n    const newLastPairEnchant: EnchantableWithCost = {\n      cost: costLastPair, \n      totalCost: costLastPair + list[list.length - 2].totalCost  + list[list.length - 1].totalCost, \n      maxCost: Math.max(costLastPair, list[list.length - 2].maxCost, list[list.length - 1].maxCost),\n      enchant: this.forge(list[list.length - 2].enchant, list[list.length - 1].enchant), \n      children: [list[list.length - 2], list[list.length - 1]]\n    };\n    const costTwo = findCost(newEnchantLessTwo.enchant, newLastPairEnchant.enchant);\n    const totalCostTwo = costTwo + newEnchantLessTwo.totalCost + newLastPairEnchant.totalCost;\n    let best: EnchantableWithCost = {\n      cost: costTwo, \n      totalCost: totalCostTwo, \n      maxCost: Math.max(costTwo, newEnchantLessTwo.maxCost, newLastPairEnchant.maxCost),\n      enchant: this.forge(newEnchantLessTwo.enchant, newLastPairEnchant.enchant), \n      children: [newEnchantLessTwo, newLastPairEnchant]\n    };\n    if (totalCostOne < totalCostTwo) {\n      best = {\n        cost: costOne, \n        totalCost: totalCostOne, \n        maxCost: Math.max(costOne, newEnchantLessOne.maxCost, list[list.length - 1].maxCost),\n        enchant: this.forge(newEnchantLessOne.enchant, list[list.length - 1].enchant), \n        children: [newEnchantLessOne, list[list.length - 1]]\n      };\n    }\n    this.cache.set(JSON.stringify(list), best);\n    return best;\n  }\n\n\n  findBestCostSplittingBy(initialGroupSize: number, enchants: EnchantableWithCost[]): EnchantableWithCost {\n    const lists: EnchantableWithCost[][][] = this.getPermutations(enchants, initialGroupSize);\n    const result: EnchantableWithCost = {cost: 9199999999, totalCost: 99999999999999, maxCost: 981822222222, enchant: null};\n    lists.map(pair => {\n      let enchant1 = this.findBestCombinationRecursive(pair[0]);\n      let enchant2 = this.findBestCombinationRecursive(pair[1]);\n      let cost = findCost(enchant1.enchant, enchant2.enchant);\n      if (cost + enchant1.totalCost + enchant2.totalCost < result.totalCost) {\n        result.cost = cost;\n        result.totalCost = cost + enchant1.totalCost + enchant2.totalCost;\n        result.enchant = this.forge(enchant1.enchant, enchant2.enchant);\n        result.children = [enchant1, enchant2];\n      }\n    })\n    return result;\n  }\n\n  getPermutations(enchants: EnchantableWithCost[], initialGroupSize: number): EnchantableWithCost[][][] {\n    let result: EnchantableWithCost[][][] = [];\n    if (!enchants) return [];\n    if (initialGroupSize == 0) return [[enchants]];\n    if (initialGroupSize == 1) {\n      enchants.map((el, index) => result.push([[el] , enchants.filter((el2, index2) => index !== index2)]));\n    } else {\n      const lists: EnchantableWithCost[][][] = this.getPermutations(enchants, initialGroupSize - 1);\n      lists.map(list => {\n        let particionAFaltaDe1: EnchantableWithCost[] = list[0];\n        let onePartitions: EnchantableWithCost[][][] = this.getPermutations(list[1], 1);\n        onePartitions.map(el => result.push([particionAFaltaDe1.concat(el[0]), [].concat(el[1])]) );\n      })\n    }\n    // console.log(result);\n    // console.log('Partitions size('+initialGroupSize+') of ' + this.printEnchantableList(enchants.map(el => el.enchant)));\n    return result;\n  }\n\n  printEnchantableWithCost(enchant: EnchantableWithCost, tabs = 0, trace = true) {\n    if (!enchant || !enchant.cost) return;\n    let str = \"\";\n    for (let i = 0; i < tabs; i++) {\n      str += '__'\n    } \n    if (!enchant.enchant && trace) {\n      this.logText += (!str ? '': '|') + str + enchant.enchant + '[totalCost:' + enchant.totalCost + '] - [maxCost:' + enchant.maxCost + '] - [cost:' + enchant.cost + '] - ' + this.printEnchantable(enchant.enchant) + '\\n';\n      console.log((!str ? '': '|') + str + enchant.enchant + '[totalCost:' + enchant.totalCost + '] - [maxCost:' + enchant.maxCost + '] - [cost:' + enchant.cost + '] - ' + this.printEnchantable(enchant.enchant))\n    } else {\n      this.logText += (!str ? '': '|') + str + enchant.enchant.type + '[totalCost:' + enchant.totalCost + '] - [maxCost:' + enchant.maxCost + '] - [cost:' + enchant.cost + '] - [penalty:' + enchant.enchant.penalty + '] - ' + this.printEnchantable(enchant.enchant) + '\\n';\n      console.log((!str ? '': '|') + str + enchant.enchant.type + '[totalCost:' + enchant.totalCost + '] - [maxCost:' + enchant.maxCost + '] - [cost:' + enchant.cost + '] - [penalty:' + enchant.enchant.penalty + '] - ' + this.printEnchantable(enchant.enchant))\n    }\n    this.printEnchantableWithCostList(enchant.children, tabs + 1, trace);\n  }\n\n  printEnchantableWithCostList(children: [EnchantableWithCost, EnchantableWithCost], tabs: number, trace = true) {\n    if (!children || !trace) return;\n    children.map(el => this.printEnchantableWithCost(el, tabs))\n  }\n\n  print3array(result: EnchantableWithCost[][][], trace = true): any {\n    if (!trace) return;\n    result.map(pair => console.log(this.printEnchantableList(pair[0].map(el => el.enchant)) + ' con ' + this.printEnchantableList(pair[1].map(el => el.enchant))));\n  }\n  \n  printEnchantableList(enchants: Enchantable[]): string {\n    return '[' + enchants.map(el => /*'{' + el.type + '}' + */this.printEnchantable(el)).join(', ') + ']';\n  }\n\n  printEnchantableCost(enchant: EnchantableWithCost): string {\n    if (!enchant) return '{undef}';\n    return '[' + enchant.enchant.enchants.map(el => el.type).join(', ') + ']';\n  }\n\n  printEnchantable(enchant: Enchantable): string {\n    if (!enchant) return '{undef}';\n    return '[' + enchant.enchants.map(el => el.type).join(', ') + ']';\n  }\n\n  forge(target: Enchantable, sacrifice: Enchantable): Enchantable {\n    // console.log('Se forja ' + this.printEnchantable(target) + ' con ' + this.printEnchantable(sacrifice));\n    this.totalForges++;\n    return {\n      enchants: target.enchants.concat(sacrifice.enchants),\n      isEnchanted: true,\n      penalty: Math.max(target.penalty, sacrifice.penalty) + 1,\n      type: target.type \n    }\n  }\n\n  getTool(which) {\n    /*tool = {\n        type: $(`#${which} > .type > select`).val(),\n        enchantments: {},\n        prior_penalty: Number($(`#${which}_penalty`).val())\n    }\n\n    for (i = 0; i < $(`#${which} > .enchant`).children().length; i += 1) {\n        let enchant_name = $(\n            `#${which} > .enchant > .enchant_${i} > .enchant_name`\n        ).val()\n        if (Object.keys(enchant_list).includes(enchant_name)) {\n            let enchant_lv = $(\n                `#${which} > .enchant > .enchant_${i} > .enchant_lv`\n            ).val()\n            tool['enchantments'][enchant_name] = Number(enchant_lv)\n        }\n    }\n    return tool*/\n  }\n\n  setFinalCost() {\n    /*const [total_cost, result_tool] = findCost()\n    // console.log(total_cost, result_tool)\n    $('#total_cost').text('Cost : ' + total_cost)\n\n    let tool_summary_text = ''\n    for (enchant in result_tool.enchantments) {\n        tool_summary_text +=\n            enchant + ' ' + result_tool.enchantments[enchant] + '<br/>'\n    }\n    $('#result_tool').html(tool_summary_text)*/\n  }\n\n\n}\n","<div class=\"flex-wrapper\">\n    <div class=\"nav-main flex-wrapper\">\n        <ng-container *ngFor=\"let enchantElement of enchantElements; let i = index\">\n            <div class=\"section full-width bgcolor\" id=\"target\">\n                <app-enchanted-book [enchant]=\"enchantElement\" [conflictEnchantTypes]=\"conflictEnchantTypes[i]\" (addEnchant)=\"addEnchant(i, $event)\" (removeEnchant)=\"removeEnchant(i, $event)\"></app-enchanted-book>\n            </div>\n            <div class=\"section no-padding plus-sign\">+</div>\n        </ng-container>\n        <div class=\"section\">\n            <div class=\"container\">\n                <button class=\"findCost big\" (click)=\"addElement()\">{{addBookLiteral}}</button>\n            </div>\n            <div *ngIf=\"!!removeBookLiteral\" class=\"container\">\n                <button class=\"findCost big\" (click)=\"removeElement()\">{{removeBookLiteral}}</button>\n            </div>\n            <div *ngIf=\"!removeBookLiteral\" class=\"container\">\n                <select class=\"big-text\" [(ngModel)]=\"currentSelectedType\" (ngModelChange)=\"enchantTypeChange()\">\n                    <option [value]=\"enchantype\" *ngFor=\"let enchantype of enchantTypes\">\n                        {{enchantype}}</option>\n                </select>\n            </div>\n        </div>\n    </div>\n    <div class=\"nav-side\">\n        <div class=\"section\">\n            <div class=\"container\">\n                <button class=\"findCost big\" (click)=\"findBestCombination()\">Find Best Combination</button>\n            </div>\n        </div>\n        <div class=\"section center\">\n            <h2 id=\"total_cost\">Total Cost: {{totalCost}}</h2>\n            <p id=\"result_tool\"></p>\n        </div>\n    </div>\n</div>\n<footer>\n    <textarea readonly rows=\"6\" id=\"log\" placeholder=\"Log Text\">{{logText}}</textarea>\n</footer>","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\n\nimport { AppComponent } from './app.component';\nimport { EnchantedBookComponent } from './components/enchanted-book/enchanted-book.component';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    EnchantedBookComponent\n  ],\n  imports: [\n    BrowserModule,\n    FormsModule\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import { Component, OnInit, Input, Output, EventEmitter, OnChanges, SimpleChanges } from '@angular/core';\nimport { Enchantable, EnchantableType, Enchant, EnchantType } from 'src/app/models/enchanted.book';\nimport { APPLICABLE_ENCHANT, ENCHANT_LIST, CONFLICT_ENCHANT } from 'src/app/db/enchants';\nimport { FormControl, Validators } from '@angular/forms';\nimport { findCost } from 'src/app/utils/costUtils';\n\n@Component({\n  selector: 'app-enchanted-book',\n  templateUrl: './enchanted-book.component.html',\n  styleUrls: ['./enchanted-book.component.scss']\n})\nexport class EnchantedBookComponent implements OnInit, OnChanges {\n\n  @Input() enchant: Enchantable = {\n    enchants: [],\n    isEnchanted: true,\n    penalty: 0,\n    type: EnchantableType.Book\n  }\n  @Input() conflictEnchantTypes: EnchantType[] = []\n\n  @Output() addEnchant = new EventEmitter<EnchantType>();\n  @Output() removeEnchant = new EventEmitter<EnchantType>();\n\n  level = new FormControl(1, [Validators.min(1),Validators.max(1)]);\n\n  currentSelected: Enchant = {\n    max: 1, // ha recalcular\n    mulBook: 1, // ha recalcular \n    mulItem: 1, // ha recalcular\n    type: null,\n    level: 1,\n  };\n  availableEnchantList = ENCHANT_LIST;\n  enchantList = ENCHANT_LIST;\n\n  constructor() { }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    this.deleteConflicts();\n  }\n\n  ngOnInit(): void {\n    this.deleteConflicts();\n  }\n\n  enchantTypeChange() {\n    if (!!this.currentSelected && this.currentSelected.type != null) {\n      console.log(this.availableEnchantList);\n      const found = this.availableEnchantList.find(el => el.type == this.currentSelected.type);\n      console.log(found);\n      this.currentSelected.max = found.max;\n      this.currentSelected.mulBook = found.mulBook;\n      this.currentSelected.mulItem = found.mulItem;\n      this.currentSelected.level = this.currentSelected.max;\n    }\n    this.deleteConflicts();\n  }\n\n  addEnchantButton(): void {\n    if (this.currentSelected.type != null) {\n      if (this.isCompatible(this.enchant.enchants, this.currentSelected.type)) {\n        this.enchant.enchants = this.enchant.enchants.filter(el => el.type !== this.currentSelected.type);\n        this.enchant.enchants.push({...this.currentSelected})\n        this.addEnchant.emit(this.currentSelected.type);\n        return;\n      } else {\n        console.log('Conflict adding: ' + this.currentSelected.type);\n      }\n    }\n    this.deleteConflicts();\n  } \n\n  isCompatible(enchants: Enchant[], type: EnchantType): boolean {\n    let foundConflict = false;\n    CONFLICT_ENCHANT.map(el => !!el.find(el2 => el2 === type) ? foundConflict = foundConflict || this.anyInCommon(el, enchants) : null);\n    this.conflictEnchantTypes.map(el => el == type ? foundConflict = true : null);\n    return !foundConflict;\n  }\n\n  isCompatibleType(enchants: EnchantType[], type: EnchantType): boolean {\n    let foundConflict = false;\n    CONFLICT_ENCHANT.map(el => !!el.find(el2 => el2 === type) ? foundConflict = foundConflict || this.anyInCommonType(el, enchants) : null);\n    this.conflictEnchantTypes.map(el => el == type ? foundConflict = true : null);\n    return !foundConflict;\n  }\n\n  anyInCommon(typeList: EnchantType[], enchants: Enchant[]): boolean {\n    let found = false;\n    typeList.map(enchantType => (found = found || !!enchants.find(el2 => el2.type === enchantType)));\n    return found;\n  }\n\n  anyInCommonType(typeList: EnchantType[], enchants: EnchantType[]): boolean {\n    let found = false;\n    typeList.map(enchantType => (found = found || !!enchants.find(el2 => el2 === enchantType)));\n    return found;\n  }\n\n  removeEnchantButton(enchant: Enchant): void {\n    this.enchant.enchants = this.enchant.enchants.filter(el => el.type != enchant.type);\n    this.deleteConflicts();\n    this.removeEnchant.emit(enchant.type);\n  }\n\n  deleteConflicts() {\n    this.enchant.enchants = this.enchant.enchants.filter(el => !!this.conflictEnchantTypes.find(el2 => el.type == el2));\n    this.availableEnchantList = ENCHANT_LIST.filter(el => !!APPLICABLE_ENCHANT.get(this.enchant.type).find(el2 => el.type == el2));\n    this.availableEnchantList = this.availableEnchantList.filter(el => !this.conflictEnchantTypes.find(el2 => el.type == el2));\n    this.availableEnchantList = this.availableEnchantList.filter(el => !!this.isCompatibleType(this.conflictEnchantTypes, el.type));\n    // console.log(this.conflictEnchantTypes);\n    // console.log(this.availableEnchantList);\n    this.enchantList = this.enchantList.filter(el => !this.conflictEnchantTypes.find(el2 => el.type == el2));\n    this.enchantList = this.enchantList.filter(el => !!this.isCompatibleType(this.conflictEnchantTypes, el.type));\n  }\n\n}\n","<ng-container *ngIf=\"enchant\">\n    <div class=\"container\">\n        <span class=\"left big-text\">{{enchant.type}}</span>\n        <span class=\"right\"><label>Prior Work Penalty</label><input id=\"target_penalty\" type=\"number\" placeholder=\"0\"\n                [(ngModel)]=\"enchant.penalty\" min=\"0\" max=\"6\" /></span>\n    </div>\n    <div class=\"container type\">\n        <select class=\"big-text\" [(ngModel)]=\"currentSelected.type\" (ngModelChange)=\"enchantTypeChange()\">\n            <option [value]=\"enchant.type\" *ngFor=\"let enchant of availableEnchantList\">\n                {{enchant.type}}</option>\n        </select>\n        <input class=\"enchant_lv\" type=\"number\" *ngIf=\"currentSelected.type != null\" [(ngModel)]=\"currentSelected.level\"\n            min=\"1\" [max]=\"currentSelected.max\">\n    </div>\n    <div class=\"container \">\n        <button [disabled]=\"!currentSelected\" class=\"addEnchantBtn\" (click)=\"addEnchantButton()\">\n            Add Enchantment\n        </button>\n    </div>\n\n    <div class=\"container enchant\">\n        <div *ngFor=\"let enchant of enchant.enchants; let i = index\" class=\"container type\">\n            <input disabled class=\"enchant_name\" [value]=\"enchant.type\">\n            <input disabled class=\"enchant_lv\" [value]=\"enchant.level\" />\n            <button class=\"enchant_remove removeEnchantBtn\" (click)=\"removeEnchantButton(enchant)\">X</button>\n        </div>\n    </div>\n</ng-container>","import { EnchantType, Enchant, EnchantableType } from \"../models/enchanted.book\";\r\n\r\nexport const ENCHANT_TYPES: EnchantableType[] = [\r\n    EnchantableType.Sword,\r\n    EnchantableType.Axe,\r\n    EnchantableType.Pickaxe,\r\n    EnchantableType.Shovel,\r\n    EnchantableType.Helmet,\r\n    EnchantableType.Chestplate,\r\n    EnchantableType.Leggings,\r\n    EnchantableType.Boots,\r\n    EnchantableType.Bow,\r\n    EnchantableType.Crossbow,\r\n    EnchantableType.Trident,\r\n    EnchantableType.Fishing_Rod,\r\n    EnchantableType.Book\r\n];\r\n\r\nexport const CONFLICT_ENCHANT: EnchantType[][] = [\r\n    [\r\n        EnchantType.Protection,\r\n        EnchantType.Fire_Protection,\r\n        EnchantType.Blast_Protection,\r\n        EnchantType.Projectile_Protection\r\n    ],\r\n    [EnchantType.Sharpness, EnchantType.Bane_Of_Arthropods, EnchantType.Smite],\r\n    [EnchantType.Silk_Touch, EnchantType.Fortune],\r\n    [EnchantType.Depth_Strider, EnchantType.Frost_Walker],\r\n    [EnchantType.Infinity, EnchantType.Mending],\r\n    [EnchantType.Loyalty, EnchantType.Riptide],\r\n    [EnchantType.Channeling, EnchantType.Riptide],\r\n    [EnchantType.Multishot, EnchantType.Piercing]\r\n]\r\n\r\n\r\nexport const APPLICABLE_ENCHANT: Map<EnchantableType, EnchantType[]> = new Map([\r\n    [EnchantableType.Sword, [\r\n        EnchantType.Sharpness,\r\n        EnchantType.Smite,\r\n        EnchantType.Bane_Of_Arthropods,\r\n        EnchantType.Knockback,\r\n        EnchantType.Fire_Aspect,\r\n        EnchantType.Looting,\r\n        EnchantType.Unbreaking,\r\n        EnchantType.Mending,\r\n        EnchantType.Curse_Of_Vanishing,\r\n        EnchantType.Sweeping_Edge\r\n    ]],\r\n    [EnchantableType.Pickaxe, [\r\n        EnchantType.Efficiency,\r\n        EnchantType.Fortune,\r\n        EnchantType.Silk_Touch,\r\n        EnchantType.Unbreaking,\r\n        EnchantType.Mending,\r\n        EnchantType.Curse_Of_Vanishing\r\n    ]],\r\n    [EnchantableType.Axe, [\r\n        EnchantType.Efficiency,\r\n        EnchantType.Fortune,\r\n        EnchantType.Silk_Touch,\r\n        EnchantType.Sharpness,\r\n        EnchantType.Smite,\r\n        EnchantType.Bane_Of_Arthropods,\r\n        EnchantType.Unbreaking,\r\n        EnchantType.Mending,\r\n        EnchantType.Curse_Of_Vanishing\r\n    ]],\r\n    [EnchantableType.Shovel, [\r\n        EnchantType.Efficiency,\r\n        EnchantType.Fortune,\r\n        EnchantType.Silk_Touch,\r\n        EnchantType.Unbreaking,\r\n        EnchantType.Mending,\r\n        EnchantType.Curse_Of_Vanishing\r\n    ]],\r\n    [EnchantableType.Helmet, [\r\n        EnchantType.Protection,\r\n        EnchantType.Fire_Protection,\r\n        EnchantType.Projectile_Protection,\r\n        EnchantType.Blast_Protection,\r\n        EnchantType.Respiration,\r\n        EnchantType.Aqua_Affinity,\r\n        EnchantType.Thorns,\r\n        EnchantType.Unbreaking,\r\n        EnchantType.Mending,\r\n        EnchantType.Curse_Of_Binding,\r\n        EnchantType.Curse_Of_Vanishing\r\n    ]],\r\n    [EnchantableType.Chestplate, [\r\n        EnchantType.Protection,\r\n        EnchantType.Fire_Protection,\r\n        EnchantType.Projectile_Protection,\r\n        EnchantType.Blast_Protection,\r\n        EnchantType.Thorns,\r\n        EnchantType.Unbreaking,\r\n        EnchantType.Mending,\r\n        EnchantType.Curse_Of_Binding,\r\n        EnchantType.Curse_Of_Vanishing\r\n    ]],\r\n    [EnchantableType.Leggings, [\r\n        EnchantType.Protection,\r\n        EnchantType.Fire_Protection,\r\n        EnchantType.Projectile_Protection,\r\n        EnchantType.Blast_Protection,\r\n        EnchantType.Thorns,\r\n        EnchantType.Unbreaking,\r\n        EnchantType.Mending,\r\n        EnchantType.Curse_Of_Binding,\r\n        EnchantType.Curse_Of_Vanishing\r\n    ]],\r\n    [EnchantableType.Boots, [\r\n        EnchantType.Protection,\r\n        EnchantType.Fire_Protection,\r\n        EnchantType.Projectile_Protection,\r\n        EnchantType.Blast_Protection,\r\n        EnchantType.Feather_Falling,\r\n        EnchantType.Frost_Walker,\r\n        EnchantType.Depth_Strider,\r\n        EnchantType.Thorns,\r\n        EnchantType.Unbreaking,\r\n        EnchantType.Mending,\r\n        EnchantType.Curse_Of_Binding,\r\n        EnchantType.Curse_Of_Vanishing\r\n    ]],\r\n    [EnchantableType.Bow, [\r\n        EnchantType.Power,\r\n        EnchantType.Punch,\r\n        EnchantType.Flame,\r\n        EnchantType.Infinity,\r\n        EnchantType.Unbreaking,\r\n        EnchantType.Mending,\r\n        EnchantType.Curse_Of_Vanishing\r\n    ]],\r\n    [EnchantableType.Crossbow, [\r\n        EnchantType.Piercing,\r\n        EnchantType.Multishot,\r\n        EnchantType.Quick_Charge,\r\n        EnchantType.Unbreaking,\r\n        EnchantType.Mending,\r\n        EnchantType.Curse_Of_Vanishing\r\n    ]],\r\n    [EnchantableType.Trident, [\r\n        EnchantType.Impaling,\r\n        EnchantType.Loyalty,\r\n        EnchantType.Riptide,\r\n        EnchantType.Channeling,\r\n        EnchantType.Unbreaking,\r\n        EnchantType.Mending,\r\n        EnchantType.Curse_Of_Vanishing\r\n    ]],\r\n    [EnchantableType.Fishing_Rod, [\r\n        EnchantType.Lure,\r\n        EnchantType.Luck_Of_The_Sea,\r\n        EnchantType.Unbreaking,\r\n        EnchantType.Mending,\r\n        EnchantType.Curse_Of_Vanishing\r\n    ]],\r\n    [EnchantableType.Book, [\r\n        EnchantType.Protection,\r\n        EnchantType.Fire_Protection,\r\n        EnchantType.Feather_Falling,\r\n        EnchantType.Blast_Protection,\r\n        EnchantType.Projectile_Protection,\r\n        EnchantType.Thorns,\r\n        EnchantType.Respiration,\r\n        EnchantType.Depth_Strider,\r\n        EnchantType.Aqua_Affinity,\r\n        EnchantType.Sharpness,\r\n        EnchantType.Smite,\r\n        EnchantType.Bane_Of_Arthropods,\r\n        EnchantType.Knockback,\r\n        EnchantType.Fire_Aspect,\r\n        EnchantType.Looting,\r\n        EnchantType.Efficiency,\r\n        EnchantType.Silk_Touch,\r\n        EnchantType.Unbreaking,\r\n        EnchantType.Fortune,\r\n        EnchantType.Power,\r\n        EnchantType.Punch,\r\n        EnchantType.Flame,\r\n        EnchantType.Infinity,\r\n        EnchantType.Luck_Of_The_Sea,\r\n        EnchantType.Lure,\r\n        EnchantType.Frost_Walker,\r\n        EnchantType.Mending,\r\n        EnchantType.Curse_Of_Binding,\r\n        EnchantType.Curse_Of_Vanishing,\r\n        EnchantType.Impaling,\r\n        EnchantType.Riptide,\r\n        EnchantType.Loyalty,\r\n        EnchantType.Channeling,\r\n        EnchantType.Multishot,\r\n        EnchantType.Piercing,\r\n        EnchantType.Quick_Charge,\r\n        EnchantType.Sweeping_Edge\r\n    ]]\r\n]);\r\n\r\nexport const ENCHANT_LIST: Enchant[] = [\r\n    {    \r\n        type: EnchantType.Protection,\r\n        max: 4,\r\n        mulItem: 1,\r\n        mulBook: 1\r\n    },\r\n    {\r\n    \ttype: EnchantType.Fire_Protection,\r\n        max: 4,\r\n        mulItem: 2,\r\n        mulBook: 1\r\n    },\r\n    {\r\n    \ttype: EnchantType.Feather_Falling,\r\n        max: 4,\r\n        mulItem: 2,\r\n        mulBook: 1\r\n    },\r\n    {\r\n    \ttype: EnchantType.Blast_Protection,\r\n        max: 4,\r\n        mulItem: 4,\r\n        mulBook: 2\r\n    },\r\n    {\r\n    \ttype: EnchantType.Projectile_Protection,\r\n        max: 4,\r\n        mulItem: 2,\r\n        mulBook: 1\r\n    },\r\n    {\r\n    \ttype: EnchantType.Thorns,\r\n        max: 3,\r\n        mulItem: 8,\r\n        mulBook: 4\r\n    },\r\n    {\r\n    \ttype: EnchantType.Respiration,\r\n        max: 3,\r\n        mulItem: 4,\r\n        mulBook: 2\r\n    },\r\n    {\r\n    \ttype: EnchantType.Depth_Strider,\r\n        max: 3,\r\n        mulItem: 4,\r\n        mulBook: 2\r\n    },\r\n    {\r\n    \ttype: EnchantType.Aqua_Affinity,\r\n        max: 1,\r\n        mulItem: 4,\r\n        mulBook: 2\r\n    },\r\n    {\r\n    \ttype: EnchantType.Sharpness,\r\n        max: 5,\r\n        mulItem: 1,\r\n        mulBook: 1\r\n    },\r\n    {\r\n    \ttype: EnchantType.Smite,\r\n        max: 5,\r\n        mulItem: 2,\r\n        mulBook: 1\r\n    },\r\n    {\r\n    \ttype: EnchantType.Bane_Of_Arthropods,\r\n        max: 5,\r\n        mulItem: 2,\r\n        mulBook: 1\r\n    },\r\n    {\r\n    \ttype: EnchantType.Knockback,\r\n        max: 2,\r\n        mulItem: 2,\r\n        mulBook: 1\r\n    },\r\n    {\r\n    \ttype: EnchantType.Fire_Aspect,\r\n        max: 2,\r\n        mulItem: 4,\r\n        mulBook: 2\r\n    },\r\n    {\r\n    \ttype: EnchantType.Looting,\r\n        max: 3,\r\n        mulItem: 4,\r\n        mulBook: 2\r\n    },\r\n    {\r\n    \ttype: EnchantType.Efficiency,\r\n        max: 5,\r\n        mulItem: 1,\r\n        mulBook: 1\r\n    },\r\n    {\r\n    \ttype: EnchantType.Silk_Touch,\r\n        max: 1,\r\n        mulItem: 8,\r\n        mulBook: 4\r\n    },\r\n    {\r\n    \ttype: EnchantType.Unbreaking,\r\n        max: 3,\r\n        mulItem: 2,\r\n        mulBook: 1\r\n    },\r\n    {\r\n    \ttype: EnchantType.Fortune,\r\n        max: 3,\r\n        mulItem: 4,\r\n        mulBook: 2\r\n    },\r\n    {\r\n    \ttype: EnchantType.Power,\r\n        max: 5,\r\n        mulItem: 1,\r\n        mulBook: 1\r\n    },\r\n    {\r\n    \ttype: EnchantType.Punch,\r\n        max: 2,\r\n        mulItem: 4,\r\n        mulBook: 2\r\n    },\r\n    {\r\n    \ttype: EnchantType.Flame,\r\n        max: 1,\r\n        mulItem: 4,\r\n        mulBook: 2\r\n    },\r\n    {\r\n    \ttype: EnchantType.Infinity,\r\n        max: 1,\r\n        mulItem: 8,\r\n        mulBook: 4\r\n    },\r\n    {\r\n    \ttype: EnchantType.Luck_Of_The_Sea,\r\n        max: 3,\r\n        mulItem: 4,\r\n        mulBook: 2\r\n    },\r\n    {\r\n    \ttype: EnchantType.Lure,\r\n        max: 3,\r\n        mulItem: 4,\r\n        mulBook: 2\r\n    },\r\n    {\r\n    \ttype: EnchantType.Frost_Walker,\r\n        max: 2,\r\n        mulItem: 4,\r\n        mulBook: 2\r\n    },\r\n    {\r\n    \ttype: EnchantType.Mending,\r\n        max: 1,\r\n        mulItem: 4,\r\n        mulBook: 2\r\n    },\r\n    {\r\n    \ttype: EnchantType.Curse_Of_Binding,\r\n        max: 1,\r\n        mulItem: 8,\r\n        mulBook: 4\r\n    },\r\n    {\r\n    \ttype: EnchantType.Curse_Of_Vanishing,\r\n        max: 1,\r\n        mulItem: 8,\r\n        mulBook: 4\r\n    },\r\n    {\r\n    \ttype: EnchantType.Impaling,\r\n        max: 5,\r\n        mulItem: 2,\r\n        mulBook: 1\r\n    },\r\n    {\r\n    \ttype: EnchantType.Riptide,\r\n        max: 3,\r\n        mulItem: 4,\r\n        mulBook: 2\r\n    },\r\n    {\r\n    \ttype: EnchantType.Loyalty,\r\n        max: 3,\r\n        mulItem: 1,\r\n        mulBook: 1\r\n    },\r\n    {\r\n    \ttype: EnchantType.Channeling,\r\n        max: 1,\r\n        mulItem: 8,\r\n        mulBook: 4\r\n    },\r\n    {\r\n    \ttype: EnchantType.Multishot,\r\n        max: 1,\r\n        mulItem: 4,\r\n        mulBook: 2\r\n    },\r\n    {\r\n    \ttype: EnchantType.Piercing,\r\n        max: 4,\r\n        mulItem: 1,\r\n        mulBook: 1\r\n    },\r\n    {\r\n    \ttype: EnchantType.Quick_Charge,\r\n        max: 3,\r\n        mulItem: 2,\r\n        mulBook: 1\r\n    },\r\n    {\r\n    \ttype: EnchantType.Sweeping_Edge,\r\n        max: 3,\r\n        mulItem: 4,\r\n        mulBook: 2\r\n    }\r\n];\r\n","export enum EnchantType {\r\n    Aqua_Affinity = 'Aqua Affinity',\r\n    Bane_Of_Arthropods = 'Bane of Arthropods',\r\n    Blast_Protection = 'Blast Protection',\r\n    Channeling = 'Channeling',\r\n    Chopping = 'Chopping',\r\n    Curse_Of_Binding = 'Curse of Binding',\r\n    Curse_Of_Vanishing = 'Curse of Vanishing',\r\n    Item_Destroyed_On_Death_ = 'Item destroyed on death.',\r\n    Depth_Strider = 'Depth Strider',\r\n    Efficiency = 'Efficiency',\r\n    Feather_Falling = 'Feather Falling',\r\n    Fire_Aspect = 'Fire Aspect',\r\n    Fire_Protection = 'Fire Protection',\r\n    Flame = 'Flame',\r\n    Fortune = 'Fortune',\r\n    Frost_Walker = 'Frost Walker',\r\n    Impaling = 'Impaling',\r\n    Infinity = 'Infinity',\r\n    Knockback = 'Knockback',\r\n    Looting = 'Looting',\r\n    Loyalty = 'Loyalty',\r\n    Luck_Of_The_Sea = 'Luck of the Sea',\r\n    Lure = 'Lure',\r\n    Mending = 'Mending',\r\n    Multishot = 'Multishot',\r\n    Piercing = 'Piercing',\r\n    Power = 'Power',\r\n    Projectile_Protection = 'Projectile Protection',\r\n    Protection = 'Protection',\r\n    Punch = 'Punch',\r\n    Quick_Charge = 'Quick Charge',\r\n    Respiration = 'Respiration',\r\n    Riptide = 'Riptide',\r\n    Sharpness = 'Sharpness',\r\n    Silk_Touch = 'Silk Touch',\r\n    Smite = 'Smite',\r\n    Soul_Speed = 'Soul Speed',\r\n    Sweeping_Edge = 'Sweeping Edge',\r\n    Thorns = 'Thorns',\r\n    Unbreaking = 'Unbreaking',\r\n}\r\n\r\nexport enum EnchantableType {\r\n    Sword = 'Sword',\r\n    Axe = 'Axe',\r\n    Pickaxe = 'Pickaxe',\r\n    Shovel = 'Shovel',\r\n    Helmet = 'Helmet',\r\n    Chestplate = 'Chestplate',\r\n    Leggings = 'Leggings',\r\n    Boots = 'Boots',\r\n    Bow = 'Bow',\r\n    Crossbow = 'Crossbow',\r\n    Trident = 'Trident',\r\n    Fishing_Rod = 'Fishing Rod',\r\n    Book = 'Book',\r\n}\r\n\r\nexport interface Enchant {\r\n    type: EnchantType\r\n    level?: number;\r\n    max: number;\r\n    mulItem: number;\r\n    mulBook: number;\r\n}\r\n\r\nexport interface Book {\r\n}\r\n\r\nexport interface Enchantable {\r\n    type: EnchantableType\r\n    penalty: number;\r\n    isEnchanted: boolean;\r\n    enchants: Enchant[];\r\n}\r\n\r\nexport interface EnchantableWithCost {\r\n    cost: number, \r\n    totalCost: number;\r\n    maxCost: number;\r\n    enchant: Enchantable;\r\n    children?: [EnchantableWithCost, EnchantableWithCost]\r\n}\r\n\r\nexport interface EnchantedBook extends Book, Enchantable {\r\n\r\n}","import { Enchantable, Enchant, EnchantableType } from \"../models/enchanted.book\"\r\n\r\nexport function findCost(target: Enchantable, sacrifice: Enchantable) {\r\n    // const result: Enchantable =  {\r\n    //     type: target.type,\r\n    //     enchants: target.enchants.concat(sacrifice.enchants),\r\n    //     isEnchanted: true,\r\n    //     penalty: Math.max(target.penalty, sacrifice.penalty) + 1\r\n    // }\r\n    if (sacrifice.type !== EnchantableType.Book) return 10000000;\r\n    let target_penalty_cost = Math.pow(2, target.penalty) - 1\r\n    let sacrifice_penalty_cost = Math.pow(2, sacrifice.penalty) - 1\r\n    let totalLevels = target_penalty_cost + sacrifice_penalty_cost + getEnchantsCost(sacrifice);\r\n    // console.log('cost: ' + printEnchantable(target) + ' + ' + printEnchantable(sacrifice) + ' = ' + totalLevels);\r\n    return totalLevels;\r\n}\r\n\r\nfunction printEnchantable(enchant: Enchantable): string {\r\n    if (!enchant) return '{undef}';\r\n    return '[' + enchant.enchants.map(el => el.type).join(', ') + ']';\r\n}\r\n\r\nfunction getEnchantsCost(enchant: Enchantable): number {\r\n    if (enchant == null || enchant.enchants == null) return 0;\r\n    let total = 0;\r\n    if (enchant.type === EnchantableType.Book) {\r\n        enchant.enchants.map(el => total += getEnchantCostOnBook(el));\r\n    } else {\r\n        enchant.enchants.map(el => total += getEnchantCost(el));\r\n    }\r\n    return total;\r\n}\r\n\r\nfunction getEnchantCostOnBook(enchant: Enchant): number {\r\n    return enchant.level * enchant.mulBook;\r\n}\r\n\r\nfunction getEnchantCost(enchant: Enchant): number {\r\n    return enchant.level * enchant.mulItem;\r\n}","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"],"sourceRoot":"webpack:///"}